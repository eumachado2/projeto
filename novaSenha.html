<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rifa</title>
    <link rel="stylesheet" href="styles.css">
   </head>
<body>
    <main class="container">
    <h2>Redefinir Senha</h2>

    <form id="formNovaSenha">
        <div class="input-box">
        <input type="password" id="senha1" placeholder="Nova Senha" required>
    </div>
        <div class="input-box">
        <input type="password" id="senha2" placeholder="Repita a senha" required></div>
        <button type="submit" class="Cadastro">Salvar</button>
    </form>

    <p id="msg"></p>

    <script>
        document.getElementById("formNovaSenha").addEventListener("submit","function");{
            const s1 = document.getElementById("senha1").value;
            const s2 = document.getElementById("senha2").value;

            if(s1 !== s2){
                document.getElementById("msg").textContent = "As senhas nÃ£o combinam!";
                return;
            }
            let usuario= JSON.parse(localStorage.getItem("usuario"));
            usuario.senha = s1;

            localStorage.setItem("usuario", JSON.stringify(usuario));
            localStorage.removeItem("recuperacao");

            document.getElementById("msg").textContent = "Senha alterada com sucesso!";

            setTimeout(() => {
                window.location.href = "Login.html";
            }, 1500);
        }
    </script>
    </main>
</body>
</html>